

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Building a Nuclei Classifier Model from Extracted Feature Data &mdash; HistomicsTK  documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=9edc463e" />
      <link rel="stylesheet" type="text/css" href="../_static/nbsphinx-code-cells.css?v=2aa19091" />

  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../_static/doctools.js?v=fd6eb6e6"></script>
      <script src="../_static/sphinx_highlight.js?v=6ffebe34"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
      <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
      <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@4/tex-mml-chtml.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            HistomicsTK
              <img src="../_static/histomicstk_mark.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api-docs.html">API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../authors.html">Credits</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">HistomicsTK</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Building a Nuclei Classifier Model from Extracted Feature Data</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/examples/create_classifier.ipynb.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="Building-a-Nuclei-Classifier-Model-from-Extracted-Feature-Data">
<h1>Building a Nuclei Classifier Model from Extracted Feature Data<a class="headerlink" href="#Building-a-Nuclei-Classifier-Model-from-Extracted-Feature-Data" title="Link to this heading">¶</a></h1>
<p>In this comprehensive tutorial, we will guide you through the process of constructing a nuclei classifier using the powerful <em>Random Forest</em> algorithm. Our approach involves extracting features from image data using DSA and assigning classes to the data instances using K-Means method. A foundational grasp of Python and familiarity with utilizing iPython notebooks are prerequisites for comprehending the content presented in this tutorial.</p>
<p><strong>Included Resources</strong></p>
<ul class="simple">
<li><p><a class="reference external" href="https://data.kitware.com/api/v1/file/hashsum/sha512/1ff135eb0ff8864a876a19ae3dec579f27f1718726a68643f6a40a244fdfa08e81f63f1413c198b38384cb34e8705bc60a6c69ef2b706cb0419f6ec091b2b621/download">Input Image</a></p></li>
<li><p><a class="reference external" href="https://data.kitware.com/api/v1/file/hashsum/sha512/e8c829b60d316ff84d2ffafb5accd605eb8dcd02dec709105ec9127aa2d7969e2feca74f66394b26f0e90375cd0d1cda3d1831023449f66cf50a637906444578/download">Extracted Features file (Optional)</a></p></li>
</ul>
<p><em>This tutorial is created by Subin Erattakulangara (Kitware)</em></p>
<section id="Step-1-(Extract-nuclei-features)">
<h2>Step 1 (Extract nuclei features)<a class="headerlink" href="#Step-1-(Extract-nuclei-features)" title="Link to this heading">¶</a></h2>
<p>Open the Nuclei Feature extraction panel in DSA and upload the image data into <em>Input Image</em> area shown below. Provide the location for both feature file and annotation files to be saved. Then press submit to start the process.The cli will generate the feature file required for the classifier. Annotation file is not required for creating the classifier.</p>
<p><img alt="DSA panel.png" src="https://data.kitware.com/api/v1/file/hashsum/sha512/10f88a5400e7fa46605e3f75530ae8703a429fbbf1185444a14fa40beec251434d19760de90bdaae25b5ece3557b502b59e40fab377b3df5978088b14c3a14e2/download" /></p>
</section>
<section id="Step-2-(Generate-training-labels)">
<h2>Step 2 (Generate training labels)<a class="headerlink" href="#Step-2-(Generate-training-labels)" title="Link to this heading">¶</a></h2>
<p>Once the CLI generates the feature file, download it. Create a new folder and put the downloaded feature file in there. Then, run the provided Python code within the same folder. This code enhances the feature file with classes. This simple flow ensures you manage, organize, and improve your feature file effortlessly. You can also use the <code class="docutils literal notranslate"><span class="pre">.csv</span></code> file provided above to create the classifier.</p>
<section id="Read-the-csv-file">
<h3>Read the csv file<a class="headerlink" href="#Read-the-csv-file" title="Link to this heading">¶</a></h3>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Ensure you import all the necessary libraries.</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.model_selection</span><span class="w"> </span><span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.ensemble</span><span class="w"> </span><span class="kn">import</span> <span class="n">RandomForestClassifier</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.preprocessing</span><span class="w"> </span><span class="kn">import</span> <span class="n">LabelEncoder</span><span class="p">,</span> <span class="n">StandardScaler</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">accuracy_score</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.cluster</span><span class="w"> </span><span class="kn">import</span> <span class="n">KMeans</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pickle</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Read CSV file</span>
<span class="c1"># This link provides access to a sample CSV file for download. Feel free to replace it with your own customized CSV file.</span>
<span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://data.kitware.com/api/v1/file/hashsum/sha512/e8c829b60d316ff84d2ffafb5accd605eb8dcd02dec709105ec9127aa2d7969e2feca74f66394b26f0e90375cd0d1cda3d1831023449f66cf50a637906444578/download&quot;</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">url</span><span class="p">)</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Feature.Label</th>
      <th>Feature.Identifier.Xmin</th>
      <th>Feature.Identifier.Ymin</th>
      <th>Feature.Identifier.Xmax</th>
      <th>Feature.Identifier.Ymax</th>
      <th>Feature.Identifier.CentroidX</th>
      <th>Feature.Identifier.CentroidY</th>
      <th>Feature.Identifier.WeightedCentroidX</th>
      <th>Feature.Identifier.WeightedCentroidY</th>
      <th>Feature.Orientation.Orientation</th>
      <th>...</th>
      <th>Feature.Cytoplasm.Haralick.Entropy.Mean</th>
      <th>Feature.Cytoplasm.Haralick.Entropy.Range</th>
      <th>Feature.Cytoplasm.Haralick.DifferenceVariance.Mean</th>
      <th>Feature.Cytoplasm.Haralick.DifferenceVariance.Range</th>
      <th>Feature.Cytoplasm.Haralick.DifferenceEntropy.Mean</th>
      <th>Feature.Cytoplasm.Haralick.DifferenceEntropy.Range</th>
      <th>Feature.Cytoplasm.Haralick.IMC1.Mean</th>
      <th>Feature.Cytoplasm.Haralick.IMC1.Range</th>
      <th>Feature.Cytoplasm.Haralick.IMC2.Mean</th>
      <th>Feature.Cytoplasm.Haralick.IMC2.Range</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1.0</td>
      <td>522.0</td>
      <td>0.0</td>
      <td>543.0</td>
      <td>7.0</td>
      <td>532.181818</td>
      <td>2.171717</td>
      <td>533.656523</td>
      <td>2.031401</td>
      <td>1.537561</td>
      <td>...</td>
      <td>4.706490</td>
      <td>0.194888</td>
      <td>0.008351</td>
      <td>0.002288</td>
      <td>2.040481</td>
      <td>0.322045</td>
      <td>-0.057505</td>
      <td>0.073408</td>
      <td>0.476290</td>
      <td>0.252285</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2.0</td>
      <td>907.0</td>
      <td>5.0</td>
      <td>917.0</td>
      <td>22.0</td>
      <td>910.981651</td>
      <td>13.155963</td>
      <td>910.756021</td>
      <td>13.072805</td>
      <td>0.042388</td>
      <td>...</td>
      <td>4.975380</td>
      <td>0.256907</td>
      <td>0.008047</td>
      <td>0.001967</td>
      <td>2.072380</td>
      <td>0.319199</td>
      <td>-0.111360</td>
      <td>0.086315</td>
      <td>0.658314</td>
      <td>0.175118</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3.0</td>
      <td>621.0</td>
      <td>16.0</td>
      <td>631.0</td>
      <td>28.0</td>
      <td>625.518072</td>
      <td>21.421687</td>
      <td>626.368708</td>
      <td>20.876592</td>
      <td>-0.603565</td>
      <td>...</td>
      <td>4.855255</td>
      <td>0.247903</td>
      <td>0.007793</td>
      <td>0.002020</td>
      <td>2.085567</td>
      <td>0.344207</td>
      <td>-0.067079</td>
      <td>0.091177</td>
      <td>0.521425</td>
      <td>0.290303</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4.0</td>
      <td>651.0</td>
      <td>31.0</td>
      <td>661.0</td>
      <td>50.0</td>
      <td>655.672414</td>
      <td>40.137931</td>
      <td>655.497753</td>
      <td>40.189438</td>
      <td>-0.144686</td>
      <td>...</td>
      <td>5.415242</td>
      <td>0.192235</td>
      <td>0.006401</td>
      <td>0.001623</td>
      <td>2.382495</td>
      <td>0.307914</td>
      <td>-0.059416</td>
      <td>0.060096</td>
      <td>0.520708</td>
      <td>0.198088</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5.0</td>
      <td>923.0</td>
      <td>42.0</td>
      <td>937.0</td>
      <td>60.0</td>
      <td>929.307692</td>
      <td>50.487179</td>
      <td>928.986837</td>
      <td>50.980150</td>
      <td>-0.620023</td>
      <td>...</td>
      <td>4.628241</td>
      <td>0.286323</td>
      <td>0.008531</td>
      <td>0.002390</td>
      <td>2.002746</td>
      <td>0.406743</td>
      <td>-0.097690</td>
      <td>0.105828</td>
      <td>0.599820</td>
      <td>0.219931</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 134 columns</p>
</div></div>
</div>
</section>
<section id="Standardize-the-data-and-perform-K-means-clustering">
<h3>Standardize the data and perform K-means clustering<a class="headerlink" href="#Standardize-the-data-and-perform-K-means-clustering" title="Link to this heading">¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Standardize the data</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">values</span>
<span class="n">scaler</span> <span class="o">=</span> <span class="n">StandardScaler</span><span class="p">()</span>
<span class="n">X_scaled</span> <span class="o">=</span> <span class="n">scaler</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>

<span class="c1"># Perform KMeans clustering</span>
<span class="n">num_clusters</span> <span class="o">=</span> <span class="mi">5</span>  <span class="c1"># Number of clusters you want to create</span>
<span class="n">kmeans</span> <span class="o">=</span> <span class="n">KMeans</span><span class="p">(</span><span class="n">n_clusters</span><span class="o">=</span><span class="n">num_clusters</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="n">cluster_labels</span> <span class="o">=</span> <span class="n">kmeans</span><span class="o">.</span><span class="n">fit_predict</span><span class="p">(</span><span class="n">X_scaled</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
/home/local/KHQ/s.erattakulangara/anaconda3/envs/tiffexp/lib/python3.10/site-packages/sklearn/cluster/_kmeans.py:1412: FutureWarning: The default value of `n_init` will change from 10 to &#39;auto&#39; in 1.4. Set the value of `n_init` explicitly to suppress the warning
  super()._check_params_vs_input(X, default_n_init=10)
</pre></div></div>
</div>
</section>
<section id="Add-generated-cluster-labels-to-feature-file">
<h3>Add generated cluster labels to feature file<a class="headerlink" href="#Add-generated-cluster-labels-to-feature-file" title="Link to this heading">¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Add cluster labels to the original data</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;Cluster&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">cluster_labels</span>

<span class="c1"># Print the count of data points in each cluster</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Cluster&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
3    833
1    737
4    607
2    505
0     40
Name: Cluster, dtype: int64
</pre></div></div>
</div>
<p>In this process we have modified the feature file so that the class labels are also added into it. These labels are required to train the Random forest classifier.</p>
</section>
</section>
<section id="Step-3-(Train-random-forest-classifier)">
<h2>Step 3 (Train random forest classifier)<a class="headerlink" href="#Step-3-(Train-random-forest-classifier)" title="Link to this heading">¶</a></h2>
<section id="Convert-dataframe-to-target-and-labels">
<h3>Convert dataframe to target and labels<a class="headerlink" href="#Convert-dataframe-to-target-and-labels" title="Link to this heading">¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Assuming the last column contains the target labels</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>  <span class="c1"># Features</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="o">-</span><span class="mi">1</span><span class="p">]</span>   <span class="c1"># Target labels</span>
<span class="nb">print</span><span class="p">(</span><span class="n">X</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">y</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>

<span class="c1"># Convert categorical labels to numerical using LabelEncoder</span>
<span class="n">label_encoder</span> <span class="o">=</span> <span class="n">LabelEncoder</span><span class="p">()</span>
<span class="n">y_encoded</span> <span class="o">=</span> <span class="n">label_encoder</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(2722, 134) (2722,)
</pre></div></div>
</div>
</section>
<section id="Split-the-data-into-training-and-testing-sets">
<h3>Split the data into training and testing sets<a class="headerlink" href="#Split-the-data-into-training-and-testing-sets" title="Link to this heading">¶</a></h3>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y_encoded</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
</pre></div>
</div>
</div>
</section>
<section id="Train-a-random-forest-classifier">
<h3>Train a random forest classifier<a class="headerlink" href="#Train-a-random-forest-classifier" title="Link to this heading">¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a RandomForestClassifier</span>
<span class="n">classifier</span> <span class="o">=</span> <span class="n">RandomForestClassifier</span><span class="p">(</span><span class="n">n_estimators</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>

<span class="c1"># Train the classifier</span>
<span class="n">classifier</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>

<span class="c1"># Predict on the test set</span>
<span class="n">y_pred</span> <span class="o">=</span> <span class="n">classifier</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>

<span class="c1"># Convert numerical predictions back to categorical labels</span>
<span class="n">y_pred_labels</span> <span class="o">=</span> <span class="n">label_encoder</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">y_pred</span><span class="p">)</span>

<span class="c1"># Calculate accuracy</span>
<span class="n">accuracy</span> <span class="o">=</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Accuracy: </span><span class="si">{</span><span class="n">accuracy</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Accuracy: 0.91
</pre></div></div>
</div>
<section id="Save-the-trained-model-into-a-pickle-file">
<h4>Save the trained model into a pickle file<a class="headerlink" href="#Save-the-trained-model-into-a-pickle-file" title="Link to this heading">¶</a></h4>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[19]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">model_filename</span> <span class="o">=</span> <span class="s1">&#39;breast_cancer_classification_model.pkl&#39;</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">model_filename</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">model_file</span><span class="p">:</span>
    <span class="n">pickle</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">classifier</span><span class="p">,</span> <span class="n">model_file</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Model saved as </span><span class="si">{</span><span class="n">model_filename</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Model saved as breast_cancer_classification_model.pkl
</pre></div></div>
</div>
<p>This trained model can be used for nuclei classification. The model file should be uploaded to Girder and selected for the “Input Model File” in the Classify Nuclei task.</p>
</section>
</section>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright Kitware, Inc..</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>